<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane prefHeight="560" prefWidth="840" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.planner.ui.OnboardingController">

    <!-- ========== Screen 1: Name ========== -->
    <AnchorPane fx:id="screenName" prefHeight="560" prefWidth="840" visible="false">
        <children>
            <VBox fx:id="nameVBox" spacing="16" AnchorPane.leftAnchor="40" AnchorPane.rightAnchor="40" AnchorPane.topAnchor="40">
                <children>
                    <Label style="-fx-font-size:18px; -fx-font-weight:bold;" text="Welcome! What should we call you?" />
                    <TextField fx:id="nameField" prefWidth="360" promptText="Your display name" />
                    <HBox fx:id="nameNavBox" spacing="8">
                        <children>
                            <Region HBox.hgrow="ALWAYS" />
                            <Button fx:id="toScheduleBtn" onAction="#goToSchedule" text="Next →" />
                        </children>
                    </HBox>
                </children>
            </VBox>
        </children>
    </AnchorPane>

    <!-- ========== Screen 2: Period counts + times ========== -->
    <AnchorPane fx:id="screenSchedule" managed="false" prefHeight="560" prefWidth="840">
        <children>
            <VBox fx:id="scheduleVBox" spacing="16" AnchorPane.bottomAnchor="24" AnchorPane.leftAnchor="24" AnchorPane.rightAnchor="24" AnchorPane.topAnchor="24">
                <children>

                    <HBox fx:id="countsRow" spacing="12">
                        <children>
                     <Button mnemonicParsing="false" onAction="#addPeriod" text="Add Period" />
                     <Button mnemonicParsing="false" onAction="#deletePeriod" text="Delete Period" />
                            <Label text="Days per cycle:" />
                            <TextField fx:id="daysPerCycleField" prefWidth="80" promptText="e.g. 8" />
                            <Region HBox.hgrow="ALWAYS" />
                        </children>
                    </HBox>

                    <ScrollPane fx:id="periodScroll" fitToWidth="true" prefViewportHeight="360" VBox.vgrow="ALWAYS">
                        <content>
                            <VBox fx:id="periodRows" fillWidth="true" prefHeight="320" prefWidth="760" spacing="10" />
                        </content>
                    </ScrollPane>

                    <HBox fx:id="scheduleNavBox" spacing="8">
                        <children>
                            <Button onAction="#backToName" text="← Back" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Button onAction="#goToCourses" text="Next: Courses →" />
                        </children>
                    </HBox>

                </children>
            </VBox>
        </children>
    </AnchorPane>

    <!-- ========== Screen 3: Courses matrix ========== -->
    <AnchorPane fx:id="screenCourses" managed="false" prefHeight="560" prefWidth="840" visible="false">
        <children>
            <VBox fx:id="coursesVBox" spacing="16" AnchorPane.bottomAnchor="24" AnchorPane.leftAnchor="24" AnchorPane.rightAnchor="24" AnchorPane.topAnchor="24">
                <children>
                    <Label style="-fx-font-size:18px; -fx-font-weight:bold;" text="Courses for each day and period" />
                    <Label text="Fill in the course name you have at each period for every day in your cycle." />

                    <ScrollPane fx:id="courseScroll" fitToWidth="true" prefViewportHeight="360" VBox.vgrow="ALWAYS">
                        <content>
                            <GridPane fx:id="courseGrid" hgap="8" prefHeight="320" prefWidth="760" vgap="8">
                                <padding>
                                    <Insets bottom="8" left="8" right="8" top="8" />
                                </padding>
                                <!-- controller builds headers (Day A–H) and TextFields dynamically -->
                            </GridPane>
                        </content>
                    </ScrollPane>

                    <HBox fx:id="coursesNavBox" spacing="8">
                        <children>
                            <Button onAction="#backToSchedule" text="← Back" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Button fx:id="finishBtn" onAction="#finish" text="Finish" />
                        </children>
                    </HBox>
                </children>
            </VBox>
        </children>
    </AnchorPane>

</StackPane>
